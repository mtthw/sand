{"ts":1365386320715,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!--<html lang=\"en\" manifest=\"cache.appcache\">-->\n<html>\n  <head>\n    <title>sand</title>\n    <!--\n     _  _ ___ _  _ _    ___ _ ____ \n     |__|  |  |\\/| |     |  | |___ \n     |  |  |  |  | |___  |  | |___   \n\n    -->\n    <!-- version 4.8 (frameset) made with <3 by MN -->\n    <!-- Open source at http://github.com/mtthw/sand -->\n\n    <!-- Sorry for the messy code, it was kind of hacked together -->\n    <link href=\"favicon.ico\" rel=\"Shortcut Icon\" />\n    <meta charset=\"UTF-8\">\n    <script type=\"text/javascript\">\n\n      var editboxHTML = \n      '<html class=\"expand close\">' +\n      '  <head>' +\n      '    <script src=codemirror3/lib/codemirror.js></scr' + 'ipt>' +\n      '    <script src=codemirror3/mode/xml/xml.js></scr' + 'ipt>' +\n      '    <script src=codemirror3/mode/javascript/javascript.js></scr' + 'ipt>' +\n      '    <script src=codemirror3/mode/css/css.js></scr' + 'ipt>' +\n      '    <script src=codemirror3/mode/htmlmixed/htmlmixed.js></scr' + 'ipt>' +\n      '    <script src=codemirror3/addon/selection/mark-selection.js></scr' + 'ipt>' +\n      '    <script src=hotkeys.js></scr' + 'ipt>' +\n\n      '    <link rel=stylesheet href=codemirror3/lib/codemirror.css>' +\n      '    <link rel=stylesheet href=codemirror3/doc/docs.css>' +\n      '    <link rel=stylesheet href=codemirror3/theme/vibrant-ink.css>' +\n\n      '    <script>' +\n      '      shortcut.add(\"Shift+Tab\",function() { window.setCookie(); });' +\n      '      shortcut.add(\"Alt+Shift+Tab\",function() { var value = editor.getValue(); prompt(\"Data URI:\", \"data:text/html, \" + value); });' +\n\n      '      function setCookie() {' +\n      '        var cookieContent = localStorage.getItem(\"cookie\");' +\n      '        var cookie = prompt(\"Project name:\", cookieContent);' +\n      '        if (cookie == null) cookie = cookieContent;' +\n      '        editor.setValue(\"\");' +\n      '        window.localStorage.setItem(\"cookie\", cookie);'+\n      '        window.localStorage.setItem(\"loaded\", \"false\");' +\n      '      }' +\n      '    </scr' + 'ipt>' +\n\n      '    <style type=\"text/css\">' +\n      '      .expand { width: 100%; height: 100%; }' +\n      '      .close { border: none; margin: 0px; padding: 0px; }' +\n      '      html,body { overflow: hidden; }' +\n      '      ::-webkit-scrollbar {' +\n      '        width: 5px;' +\n      '        height: 5px;' +\n      '      }' +\n      '      ::-webkit-scrollbar-track {' +\n      '        background-color: transparent;' +\n      '      }' +\n      '      ::-webkit-scrollbar-thumb {' +\n      '        background-color: #444;' +\n      '        border-radius: 5px;' +\n      '        padding-right: 50px;' +\n      '      }' +\n      '      .CodeMirror-line-numbers {' + \n      '        width: 2.2em;' +\n      '        color: #aaa;' +\n      '        background-color: #eee;' +\n      '        text-align: right;' +\n      '        padding-right: .3em;' +\n      '        font-size: 10pt;' +\n      '        font-family: monospace;' +\n      '        padding-top: .4em;' +\n      '      }' +\n      '      .CodeMirror {' +\n      '        height: auto;' +\n      '      }' +\n      '      .CodeMirror-selected  { background-color: blue !important; }' +\n      '      .CodeMirror-selectedtext { color: white; }' +\n      '      .activeline {background: #222 !important;}' +\n      '      .CodeMirror-matchingbracket {background: #555 !important;}' +\n      '      span.CodeMirror-matchhighlight { background: #555; }' +\n      '      .CodeMirror-focused span.CodeMirror-matchhighlight { background: #555; !important }' +\n      '      .cm-tab {' +\n      '        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAQklEQVR42mNgGAWjYEQA5v9AAKQFQBwoe8gBJajDBVE88H+IgqEYA3JQhxsNRQ+A80BhYaH/UM4DIMA4Wp6NAioDADWL2WV1e3w1AAAAAElFTkSuQmCC);' +\n      '        background-position: right;' +\n      '        background-repeat: no-repeat;' +\n      '      }'+\n      '    <\\/style>' +\n      '  <\\/head>' +\n      '  <body class=\"expand close\">' +\n      '    <form class=\"expand close\" name=\"f\">' +\n      '      <textarea id=code class=\"expand close\" style=\"background: #def; font-family: monospace;\" name=\"ta\" wrap=\"hard\" spellcheck=\"false\">' +\n      '      <\\/textarea>' +\n      '    <\\/form>' +\n\n      '    <script type=\"text/javascript\">' +\n      '      var editor = CodeMirror.fromTextArea(document.getElementById(\"code\"), {' +\n      '        mode: \"text/html\",' +\n      '        lineNumbers: true,' +\n      '        styleSelectedText: true,' +\n      '        matchBrackets: true,' +\n      '        theme: \"vibrant-ink\",' +\n      '        lineWrapping: true,' +\n      '        tabMode: \"indent\",' +\n      '        onCursorActivity: function() {' +\n      '          editor.setLineClass(hlLine, null, null);' +\n      '          hlLine = editor.setLineClass(editor.getCursor().line, null, \"activeline\");' +\n      '          editor.matchHighlight(\"CodeMirror-matchhighlight\");' +\n      '        }' +\n      '      });' +\n\n      '      var hlLine = editor.setLineClass(0, \"activeline\");' +\n      '      editor.focus();' +\n\n      '    </scr' + 'ipt>' +\n\n      '  <\\/body>' +\n      '<\\/html>';\n\n      var defaultStuff = '<h1>Welcome to Sand</h1><a href=\"mailto: nashma4@gmail.com\">Support</a><br><a target=\"_blank\" href=\"http://github.com/mtthw/sand\">Source code</a>';\n\n      var old = '';\n         \n      function init() {\n        window.editbox.document.write(editboxHTML);\n        window.editbox.document.close();\n        window.localStorage.setItem(\"loaded\", \"false\");\n        //window.editbox.document.f.ta.value = defaultStuff;\n        setInterval(\"update()\", 100);\n        setInterval(\"saveLocally()\", 500);\n      }\n\n      function update() {\n        if (window.editbox.editor == undefined) return;\n        code = window.editbox.editor.getValue();\n        var d = dynamicframe.document; \n      \n        if (old != code) {\n          old = code;\n          d.open();\n          d.write(old);\n          if (dynamicframe.document.title == '') document.title = 'sand';\n          else document.title = dynamicframe.document.title;\n          if (code == '') d.write(defaultStuff);\n          d.close();\n        }\n      }\n\n      var cookie = \"\"\n      function saveLocally() {\n        var cookie = localStorage.getItem('cookie');\n        if (localStorage.getItem('loaded') == 'false') {\n          code = localStorage.getItem(cookie);\n          if (code == null) code = \"\";\n          window.editbox.editor.setValue(code);\n          localStorage.setItem('loaded', 'true');\n        } else {\n          code = window.editbox.editor.getValue();\n          localStorage.setItem(cookie, code);\n        }\n      }\n\n    </script>\n  </head>\n\n  <frameset resizable=\"yes\" cols=\"*, 42%\" border=\"3\" onload=\"init();\">\n    <frame name=\"dynamicframe\" src=\"javascript:'';\">\n    <frame name=\"editbox\" src=\"javascript:'';\">\n  </frameset>\n\n</html>\n"]],"start1":0,"start2":0,"length1":0,"length2":6836}]],"length":6836}
